import base64
import sys
import io

import pygame
import json
import time
import tkinter as tk
from tkinter import filedialog
import numpy as np
from svglib.svglib import svg2rlg
import io

# from svg import Parser, Rasterizer

TILE_COLOR = (131, 137, 141)
BLOCK_SIZE = 50
PADDING = 5 * BLOCK_SIZE
BACKGROUND_COLOR = (123, 149, 128)
BOARDER_COLOR = (0, 0, 0)
BOX_COLOR = (100, 100, 100)
TELEPORT_COLOR = (0, 0, 0)
WINDOWS_PADDING = 20 * BLOCK_SIZE

GEM = "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAADKHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZddcuQqDIXfWcVdApIQEsvB/FTdHczy78F2O+lOT25SydS8xJQNlkGSzyfTSRi//p3hHxxUCoek5rnkHHGkkgpXDDweR9mvFNN+PW/ibXBnD9cDhknQy3Fr9ZxfYdeXBbcYtN3bg59P2E9HdDneD1mR17i/ThJ2PuyUTkdlHINc3F6nup2O2jlxT+U805XW0a37cGcwqNQVgYR5CEnEleXMQI6z4iy4kpQ1D30VEQroWG6ZQJC717sEjK8FuhP5NgqP6l+jB/G5nnZ50DKfGmHw9AHpg12uMPw6sFwZ8f2DQjdXb0Wes/uc43i7mjIUzWdF7WLTzQ0mbpBc9mUZzXAqxra3guaxxgbkPba4oTUqxKAyAyXqVGnS2PtGDSkmHmzomRuwLJuLceEGYiRpNZpsoNfFAavxCECXhK9caI9b9niNHJE7YSoTnBGW/LaF9x5+poU525KIol9aIS9edY00Frl1xSwAoXly013gWzvxx1f1g1IFQd1ldrxgjdvhYlN6qS3ZOQvmKfrjE6Jg/XQAiRBbkQwJCMRMopQpGrMRQUcHoIrM8SHwBgKkyh1JchLJHIydV2ysMdrnsnLmZcbeBBAqWQxs8H0BVkqK+rHkqKGqoklVs5p60KI1S05Zc86W1yZXTSyZWjYzt2LVxZOrZzd3L14LF8EeqCUXK15KqZVDRaAKXxXzKywbb7KlTbe82eZb2WpD+bTUtOVmzVtptXOXjm2i527de+l1UBjYKUYaOvKw4aOMOlFrU2aaOvO06bPMelE7qb5pn6BGJzXeSa15dlGDNZjdXNDaTnQxAzFOBOK2CKCgeTGLTinxIreYxcL4KJSRpC42odMiBoRpEOuki90LuQ9xC+of4sb/Ry4sdN9BLgDdW25PqPX1O9d2YsdXuDSNgq8Pz4fXwF7Xj1r9av/j6MfRn3c0t1W0H/IVrjX+tbzC8/ifdxu+tvylD5/K5h3N/oJG72SzZoevV9C9Ru9n9SSbx5zD99T1c0cfiP+sjvh7VPpx9OPozzia+MsD/wGH/wBAKrNQlaZ9kwAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfW6UqFZF2EHHIUJ0siIroplUoQoVQK7TqYHLpFzRpSFJcHAXXgoMfi1UHF2ddHVwFQfADxMnRSdFFSvxfUmgR48FxP97de9y9A/z1MlPNjjFA1SwjlYgLmeyqEHxFN8LoBzAjMVOfE8UkPMfXPXx8vYvxLO9zf45eJWcywCcQzzLdsIg3iKc2LZ3zPnGEFSWF+Jx41KALEj9yXXb5jXPBYT/PjBjp1DxxhFgotLHcxqxoqMSTxFFF1Sjfn3FZ4bzFWS1XWfOe/IWhnLayzHWaQ0hgEUsQIUBGFSWUYSFGq0aKiRTtxz38g45fJJdMrhIYORZQgQrJ8YP/we9uzfzEuJsUigOdL7b9MQwEd4FGzba/j227cQIEnoErreWv1IHpT9JrLS16BPRtAxfXLU3eAy53gIEnXTIkRwrQ9OfzwPsZfVMWCN8CPWtub819nD4AaeoqeQMcHAIjBcpe93h3V3tv/55p9vcDaOtyo1c11ZYAAAAJUExURQAAAAAAAP///4Pdz9IAAAABdFJOUwBA5thmAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+QJExEBGBkuCWQAAAAgSURBVAjXY2DACbRWAImpYSBiFZBQBXE5FwAJpgbcmgDMbgT176eVGgAAAABJRU5ErkJggg=="

WALL = "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"
GEMS_PATH = [
    "assets/yellow_dimond.png",
    "assets/green_dimond.png",
    "assets/red_dimond.png",
    "assets/blue_dimond.png"

]
AGENTS_PATH = [
    "assets/agent_green.png",
    "assets/agent_purple.png"

]


def get_game_log_json():
    root = tk.Tk()
    root.withdraw()
    file_name = filedialog.askopenfilename()
    try:
        with open(file_name) as file:
            content = json.load(file)
        return content
    except:
        return None


def draw_wall(pygame, screen, x, y):
    image = pygame.image.load(io.BytesIO(base64.b64decode(WALL)))
    image = pygame.transform.scale(image, (BLOCK_SIZE, BLOCK_SIZE))
    X = PADDING + x * BLOCK_SIZE
    Y = PADDING + y * BLOCK_SIZE
    screen.blit(image, (X, Y))


def draw_player(pygame, screen, x, y, agent_index):
    # image = pygame.image.load(io.BytesIO(base64.b64decode(GEM)))
    image = pygame.image.load(AGENTS_PATH[agent_index])
    image = pygame.transform.scale(image, (int(0.9 * BLOCK_SIZE), int(0.9 * BLOCK_SIZE)))
    X = PADDING + x * BLOCK_SIZE
    Y = PADDING + y * BLOCK_SIZE
    screen.blit(image, (X, Y))
    # screen.blit(image, (X, Y),)


def draw_teleport(pygame, screen, x, y):
    X = PADDING + x * BLOCK_SIZE + BLOCK_SIZE // 2
    Y = PADDING + y * BLOCK_SIZE + BLOCK_SIZE // 2
    pygame.draw.circle(screen, TELEPORT_COLOR, (X, Y), (6 * BLOCK_SIZE) // 13)


def draw_gem(pygame, screen, x, y, gem_index):
    image = pygame.image.load(GEMS_PATH[gem_index])

    image = pygame.transform.scale(image, (BLOCK_SIZE, BLOCK_SIZE))
    X = PADDING + x * BLOCK_SIZE
    Y = PADDING + y * BLOCK_SIZE

    # load_svg("assets/blue_dimond.svg", screen, (x, y), (BLOCK_SIZE, BLOCK_SIZE))
    screen.blit(image, (X, Y))


def draw_characters(pygame, screen, x, y, characters):
    if "T" in characters:
        draw_teleport(pygame, screen, x, y)
    if "A" in characters:
        draw_player(pygame, screen, x, y, 0)

    if "B" in characters:
        draw_player(pygame, screen, x, y, 1)

    if "W" in characters:
        draw_wall(pygame, screen, x, y)
    if "1" in characters:
        draw_gem(pygame, screen, x, y, 0)

    if "2" in characters:
        draw_gem(pygame, screen, x, y, 1)
    if "3" in characters:
        draw_gem(pygame, screen, x, y, 2)

    if "4" in characters:
        draw_gem(pygame, screen, x, y, 3)


def show(json_content):
    height, width = np.array(json_content[0]["map"]).shape
    HEIGHT, WIDTH = height * BLOCK_SIZE, width * BLOCK_SIZE
    pygame.init()

    screen = pygame.display.set_mode((WIDTH + 2 * PADDING, HEIGHT + 2 * PADDING))
    grid_rect = pygame.Rect(PADDING, PADDING, WIDTH, HEIGHT)

    i = 0
    while True:
        screen.fill(BACKGROUND_COLOR)
        screen.fill(color=TILE_COLOR, rect=grid_rect)

        current_map = json_content[i]["map"]
        for x in range(width):
            for y in range(height):
                X = x * BLOCK_SIZE + PADDING
                Y = y * BLOCK_SIZE + PADDING
                center = (X + BLOCK_SIZE + BLOCK_SIZE // 2, Y + BLOCK_SIZE + BLOCK_SIZE // 2)

                tile = current_map[y][x]
                rect = pygame.Rect(X, Y, BLOCK_SIZE, BLOCK_SIZE)
                pygame.draw.rect(screen, BOARDER_COLOR, rect, 1)
                draw_characters(pygame, screen, x, y, tile)

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                sys.exit()

        pygame.display.update()
        time.sleep(0.5)
        if i < len(json_content) - 1:
            i += 1


if __name__ == '__main__':
    json_content = get_game_log_json()
    if json_content is not None:
        show(json_content)
